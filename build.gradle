plugins {
  id 'org.gosu-lang.gosu' version '0.2.2'
}

repositories {
  mavenLocal()
  jcenter()
}

dependencies {
  compile 'org.gosu-lang.gosu:gosu-core-api:1.14.3'
  compile 'org.gosu-lang.gosu:gosu-core:1.14.3'
  compile 'io.ratpack:ratpack-core:1.4.2'
  compile 'io.ratpack:ratpack-test:1.4.2'
  compile 'com.fasterxml.jackson.core:jackson-databind:2.8.2'
  runtime 'org.slf4j:slf4j-simple:1.7.21'
  runtime files("${System.properties.'java.home'}/../lib/tools.jar")
}

compileGosu {
  classpath = tasks.getByName('compileJava').outputs.files + classpath
  gosuOptions.forkOptions.with {
    jvmArgs += ['-Xdebug', '-Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y'] //debug on linux/OS X
  }
}
compileTestGosu {
  classpath = tasks.getByName('compileTestJava').outputs.files + classpath
}

